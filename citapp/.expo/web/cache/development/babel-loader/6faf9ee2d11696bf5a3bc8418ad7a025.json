{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Momento2_Aplicativos_Moviles\\\\citapp\\\\screens\\\\list-appointments.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { TouchableHighlight, FlatList } from 'react-native-gesture-handler';\nimport { useIsFocused } from '@react-navigation/native';\nimport CardComponent from \"./card-component\";\nimport { api } from \"../global\";\n\nfunction ListAppointments(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var userid = route.params.userid;\n  var isFocused = useIsFocused();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      appointments = _useState2[0],\n      setAppointments = _useState2[1];\n\n  var fetchAppointments = function fetchAppointments() {\n    var response, jsonResponse;\n    return _regeneratorRuntime.async(function fetchAppointments$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(api + 'listappointments?userid=' + userid));\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            jsonResponse = _context.sent;\n            setAppointments(jsonResponse.appointments);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    fetchAppointments();\n  }, [isFocused]);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableHighlight, {\n    style: styles.createAppointmentButton,\n    onPress: function onPress() {\n      return navigation.navigate('CreateAppointment', {\n        userid: userid\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.createAppointmentButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Create Appointment\")), React.createElement(FlatList, {\n    data: appointments,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(CardComponent, {\n        appointment: item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 43\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item._id;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }));\n}\n\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column'\n  },\n  createAppointmentButton: {\n    backgroundColor: '#54B254',\n    padding: 20,\n    margin: 10,\n    alignItems: 'center'\n  },\n  createAppointmentButtonText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 17\n  },\n  title: {\n    fontSize: 16,\n    color: '#000'\n  }\n});\nexport default ListAppointments;","map":{"version":3,"sources":["C:/xampp/htdocs/Momento2_Aplicativos_Moviles/citapp/screens/list-appointments.js"],"names":["React","useState","useEffect","TouchableHighlight","FlatList","useIsFocused","CardComponent","api","ListAppointments","route","navigation","userid","params","isFocused","appointments","setAppointments","fetchAppointments","fetch","response","json","jsonResponse","styles","container","createAppointmentButton","navigate","createAppointmentButtonText","item","_id","StyleSheet","create","flex","flexDirection","backgroundColor","padding","margin","alignItems","color","fontWeight","fontSize","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;AAEA,SAASC,kBAAT,EAA6BC,QAA7B,QAA6C,8BAA7C;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,OAAOC,aAAP;AACA,SAASC,GAAT;;AACA,SAASC,gBAAT,OAAiD;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AAAA,MACrCC,MADqC,GAC1BF,KAAK,CAACG,MADoB,CACrCD,MADqC;AAE7C,MAAME,SAAS,GAAGR,YAAY,EAA9B;;AAF6C,kBAGLJ,QAAQ,CAAC,EAAD,CAHH;AAAA;AAAA,MAGtCa,YAHsC;AAAA,MAGxBC,eAHwB;;AAM7C,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEDC,KAAK,CAAEV,GAAG,GAAG,0BAAN,GAAiCI,MAAnC,CAFJ;;AAAA;AAElBO,YAAAA,QAFkB;AAAA;AAAA,6CAGGA,QAAQ,CAACC,IAAT,EAHH;;AAAA;AAGlBC,YAAAA,YAHkB;AAItBL,YAAAA,eAAe,CAACK,YAAY,CAACN,YAAd,CAAf;;AAJsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAMAZ,EAAAA,SAAS,CAAC,YAAM;AACZc,IAAAA,iBAAiB;AACpB,GAFQ,EAEN,CAACH,SAAD,CAFM,CAAT;AAIA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEQ,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,kBAAD;AAAoB,IAAA,KAAK,EAAED,MAAM,CAACE,uBAAlC;AAA2D,IAAA,OAAO,EAAE;AAAA,aAChEb,UAAU,CAACc,QAAX,CAAoB,mBAApB,EAAyC;AACrCb,QAAAA,MAAM,EAAEA;AAD6B,OAAzC,CADgE;AAAA,KAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEU,MAAM,CAACI,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,CADJ,EAOI,oBAAC,QAAD;AACI,IAAA,IAAI,EAAEX,YADV;AAEI,IAAA,UAAU,EAAE;AAAA,UAAGY,IAAH,SAAGA,IAAH;AAAA,aAAc,oBAAC,aAAD;AAAe,QAAA,WAAW,EAAEA,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAd;AAAA,KAFhB;AAGI,IAAA,YAAY,EAAE,sBAAAA,IAAI;AAAA,aAAIA,IAAI,CAACC,GAAT;AAAA,KAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADJ;AAeH;;AAAA;AAED,IAAMN,MAAM,GAAGO,UAAU,CAACC,MAAX,CAAkB;AAC7BP,EAAAA,SAAS,EAAE;AACPQ,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,aAAa,EAAE;AAFR,GADkB;AAK7BR,EAAAA,uBAAuB,EAAE;AACrBS,IAAAA,eAAe,EAAE,SADI;AAErBC,IAAAA,OAAO,EAAE,EAFY;AAGrBC,IAAAA,MAAM,EAAE,EAHa;AAIrBC,IAAAA,UAAU,EAAE;AAJS,GALI;AAW7BV,EAAAA,2BAA2B,EAAE;AACzBW,IAAAA,KAAK,EAAE,OADkB;AAEzBC,IAAAA,UAAU,EAAE,MAFa;AAGzBC,IAAAA,QAAQ,EAAE;AAHe,GAXA;AAgB7BC,EAAAA,KAAK,EAAE;AACHD,IAAAA,QAAQ,EAAE,EADP;AAEHF,IAAAA,KAAK,EAAE;AAFJ;AAhBsB,CAAlB,CAAf;AAuBA,eAAe5B,gBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { TouchableHighlight, FlatList } from 'react-native-gesture-handler';\nimport { useIsFocused } from '@react-navigation/native';\nimport CardComponent from './card-component'\nimport { api } from '../global' ;\nfunction ListAppointments({ route, navigation }) {\n    const { userid } = route.params;    \n    const isFocused = useIsFocused();\n    const [appointments, setAppointments] = useState([]);\n\n    /* Data for the flatlist */\n    const fetchAppointments = async () => {\n        //let response = await fetch('http://192.168.0.3:80/citapp_api_php/api/listappointments');\n        let response = await fetch( api + 'listappointments?userid='+userid);\n        let jsonResponse = await response.json();\n        setAppointments(jsonResponse.appointments);\n    }\n    useEffect(() => {\n        fetchAppointments();\n    }, [isFocused]);\n\n    return (\n        <View style={styles.container}>\n            <TouchableHighlight style={styles.createAppointmentButton} onPress={() =>\n                navigation.navigate('CreateAppointment', {\n                    userid: userid\n                })}>\n                <Text style={styles.createAppointmentButtonText}>Create Appointment</Text>\n            </TouchableHighlight>\n            <FlatList\n                data={appointments}\n                renderItem={({ item }) => <CardComponent appointment={item} />}\n                keyExtractor={item => item._id}\n            />\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        flexDirection: 'column'\n    },\n    createAppointmentButton: {\n        backgroundColor: '#54B254',\n        padding: 20,\n        margin: 10,\n        alignItems: 'center',\n    },\n    createAppointmentButtonText: {\n        color: 'white',\n        fontWeight: 'bold',\n        fontSize: 17\n    },\n    title: {\n        fontSize: 16,\n        color: '#000'\n    },\n});\n\n\nexport default ListAppointments;\n"]},"metadata":{},"sourceType":"module"}